{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HomePage } from './home';\n\n@NgModule({\n  declarations: [\n    HomePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HomePage),\n  ],\n})\nexport class HomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Component, Input, ViewChild, ElementRef } from '@angular/core';\nimport { Keyboard } from '@ionic-native/keyboard';\nimport { IonicPage, NavController, NavParams, Platform } from 'ionic-angular';\nimport { PayPal, PayPalPayment, PayPalConfiguration } from '@ionic-native/paypal';\nimport { FCM } from '@ionic-native/fcm';\nimport { ActionSheetController } from 'ionic-angular';\nimport { CacheService } from \"ionic-cache\";\nimport { SpeechRecognition } from '@ionic-native/speech-recognition';\n\n/**\n * Generated class for the HomePage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html',\n})\nexport class HomePage {\n  noti:string = 'searching notifications';\n  todo:string;\n  edit:boolean = false;\n  listItems = [];\n  emt:boolean = false;\n  idx = null;\n  rec:boolean = false;\n  @ViewChild('myInput') myInput ;\n\n\n  constructor(platform: Platform,public navCtrl: NavController, public navParams: NavParams, private fcm:FCM,\n              public cache: CacheService,\n              private keyboard: Keyboard,\n              private elRef:ElementRef,\n              private payPal: PayPal,\n              private speechRecognition: SpeechRecognition,\n              public actionCtrl: ActionSheetController) {\n    platform.ready().then(() => {\n      //this.notification();\n      cache.setDefaultTTL(60 * 60 * 24 * 365);\n      cache.setOfflineInvalidate(false);\n      this.getList();\n    });\n  }\n\n  getList(){\n    this.cache.getItem('list').catch((e) => {\n      // fall here if item is expired or doesn't exist\n      this.emt = true;\n      console.log(e);\n      return;\n  }).then((data) => {\n      console.log(data);\n      if(data.length != 0){\n      this.listItems = data;\n      }\n      else{\n      this.emt = true;\n      }\n  });\n  }\n\n  togadd(){\n    this.edit = !(this.edit);\n    this.todo = '';\n    this.idx = null;\n\n    if(this.edit){\n   this.keyfocus();\n  }\n\n  }\n\n  keyfocus(){\n    setTimeout(()=>{\n      this.myInput.setFocus();\n    },10);\n  }\n\n  saveList(){\n    if(this.idx == null){\n    this.listItems.push(this.todo);\n    }else{\n      this.listItems[this.idx] = this.todo;\n    }\n    \n    this.cache.saveItem('list', this.listItems);\n    this.cancel();\n    this.emt = false;\n  }\n\n  cancel(){\n    \n    this.todo = '';\n    this.idx = null;\n    this.rec = false;\n    this.edit = false;\n  }\n\n  notification(){\n  this.fcm.onNotification().subscribe(data=>{\n    if(data.wasTapped){\n      console.log(data);\n      console.log(\"Received in background\");\n      this.noti = \"Received in background\";\n    } else {\n      console.log(data);\n      console.log(\"Received in foreground\");\n      this.noti = \"Received in foreground\";\n\n    };\n  })\n}\n\npresentAction(item,i) {\n  this.idx = i;\n  let actionSheet = this.actionCtrl.create({\n    title: 'What to do?',\n    buttons: [\n      {\n        text: 'Edit',\n        handler: () => {\n          this.edit = true;\n          this.todo = item;\n        }\n      },{\n        text: 'Delete',\n        handler: () => {\n          this.listItems.splice(i, 1);\n          this.cache.saveItem('list', this.listItems);\n          if(this.listItems.length == 0){\n            this.emt = true;\n          }\n        }\n      },{\n        text: 'Cancel',\n        role: 'cancel',\n        handler: () => {\n          console.log(item,'Cancel clicked');\n        }\n      }\n    ]\n  });\n  actionSheet.present();\n}\n\nspeechrec(){\n\n          // Check feature available\n        this.speechRecognition.isRecognitionAvailable()\n        .then((available: boolean) => console.log(available))\n\n\n        //check and request permission\n        this.speechRecognition.hasPermission()\n        .then((hasPermission: boolean) => {\n          console.log(hasPermission);\n          if(!hasPermission){\n\n            this.speechRecognition.requestPermission()\n            .then(\n              () => {console.log('Granted'); this.startrec();},\n              () => {console.log('Denied'); return;}\n            )\n\n          }else{\n            this.startrec();\n          }\n        });\n\n}\n\nstartrec(){\n\n  this.rec = true;\n  this.edit = true;\n  // Start the recognition process\n  this.speechRecognition.startListening()\n  .subscribe(\n    (matches: Array<string>) => {console.log(matches);\n    this.todo = matches[0];\n    this.rec = false;\n    },\n    (onerror) => {console.log('error:', onerror); this.rec = false; this.edit = false;}\n  );\n\n\n}\n\ndonate(){\n  var token = \"access_token$sandbox$8dm7yw2njvt3r4d3$b906cd838baffe7491f68e9937b366de\";\n  this.payPal.init({\n\n     \n    PayPalEnvironmentProduction: 'YOUR_PRODUCTION_CLIENT_ID',\n    PayPalEnvironmentSandbox: 'AVMUaPGtdtf-sdC4arxteuNxBFsTigK31-b6p0lyJW2kpGbEbuWSVxMOIziceSNPIH0hW6z17g_jZi4f'\n  }).then(() => {\n    // Environments: PayPalEnvironmentNoNetwork, PayPalEnvironmentSandbox, PayPalEnvironmentProduction\n    this.payPal.prepareToRender('PayPalEnvironmentSandbox', new PayPalConfiguration({\n      // Only needed if you get an \"Internal Service Error\" after PayPal login!\n      //payPalShippingAddressOption: 2 // PayPalShippingAddressOptionPayPal\n    })).then(() => {\n      let payment = new PayPalPayment('1', 'USD', 'donation', 'sale');\n      this.payPal.renderSinglePaymentUI(payment).then((data) => {\n        // Successfully paid\n  \n        alert('success!');\n        // Example sandbox response\n        //\n        // {\n        //   \"client\": {\n        //     \"environment\": \"sandbox\",\n        //     \"product_name\": \"PayPal iOS SDK\",\n        //     \"paypal_sdk_version\": \"2.16.0\",\n        //     \"platform\": \"iOS\"\n        //   },\n        //   \"response_type\": \"payment\",\n        //   \"response\": {\n        //     \"id\": \"PAY-1AB23456CD789012EF34GHIJ\",\n        //     \"state\": \"approved\",\n        //     \"create_time\": \"2016-10-03T13:33:33Z\",\n        //     \"intent\": \"sale\"\n        //   }\n        // }\n      }, (e) => {\n        // Error or render dialog closed without being successful\n        alert(e);\n      });\n    }, (e) => {\n      // Error in configuration\n      alert(e);\n    });\n  }, (e) => {\n    // Error in initialization, maybe PayPal isn't supported or something else\n    alert(e);\n  });\n}\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}